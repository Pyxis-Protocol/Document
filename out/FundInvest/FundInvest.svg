<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1677px" preserveAspectRatio="none" style="width:1277px;height:1677px;background:#FFFFFF;" version="1.1" viewBox="0 0 1277 1677" width="1277px" zoomAndPan="magnify"><defs/><g><rect height="26.2969" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="142" x="568.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="132" x="573.75" y="27.9951">Fund Investment</text><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="173.8594"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="264.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="322.3906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="405.6563"/><rect fill="#FFFFFF" height="88.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="630.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="778.6563"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="844.7891"/><rect fill="#FFFFFF" height="88.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="903.9219"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1021.3203"/><rect fill="#FFFFFF" height="58.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1137.8516"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1256.3828"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1338.7813"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1397.0469"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1455.3125"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1528.4453"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="508.7266"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="659.2578"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="933.0547"/><rect fill="#FFFFFF" height="58.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="1050.4531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="1166.9844"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052.5" y="688.3906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052.5" y="962.1875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052.5" y="1079.5859"/><rect height="76.2656" style="stroke:#000000;stroke-width:1.5;fill:none;" width="725" x="10" y="135.5938"/><rect height="327.8672" style="stroke:#000000;stroke-width:1.5;fill:none;" width="970.5" x="10" y="225.8594"/><rect height="179.3359" style="stroke:#000000;stroke-width:1.5;fill:none;" width="740.5" x="230" y="367.3906"/><rect height="636.3906" style="stroke:#000000;stroke-width:1.5;fill:none;" width="989" x="109" y="567.7266"/><rect height="134.5313" style="stroke:#000000;stroke-width:1.5;fill:none;" width="969" x="119" y="591.8594"/><rect height="76.2656" style="stroke:#000000;stroke-width:1.5;fill:none;" width="505" x="230" y="740.3906"/><rect height="282.1953" style="stroke:#000000;stroke-width:1.5;fill:none;" width="636" x="109" y="1218.1172"/><rect height="192.7969" style="stroke:#000000;stroke-width:1.5;fill:none;" width="616" x="119" y="1300.5156"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="69" x2="69" y1="118.5938" y2="1596.7109"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="179" x2="179" y1="118.5938" y2="1596.7109"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="259" x2="259" y1="118.5938" y2="1596.7109"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="341" x2="341" y1="118.5938" y2="1596.7109"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="700" x2="700" y1="118.5938" y2="1596.7109"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="913.5" x2="913.5" y1="118.5938" y2="1596.7109"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1057" x2="1057" y1="118.5938" y2="1596.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="20" y="115.292">FundSponsor</text><ellipse cx="69.5" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M69.5,58.7969 L69.5,85.7969 M56.5,66.7969 L82.5,66.7969 M69.5,85.7969 L56.5,100.7969 M69.5,85.7969 L82.5,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="20" y="1608.7061">FundSponsor</text><ellipse cx="69.5" cy="1620.5078" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M69.5,1628.5078 L69.5,1655.5078 M56.5,1636.5078 L82.5,1636.5078 M69.5,1655.5078 L56.5,1670.5078 M69.5,1655.5078 L82.5,1670.5078 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="129" y="115.292">FundManager</text><ellipse cx="179.5" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M179.5,58.7969 L179.5,85.7969 M166.5,66.7969 L192.5,66.7969 M179.5,85.7969 L166.5,100.7969 M179.5,85.7969 L192.5,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="129" y="1608.7061">FundManager</text><ellipse cx="179.5" cy="1620.5078" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M179.5,1628.5078 L179.5,1655.5078 M166.5,1636.5078 L192.5,1636.5078 M179.5,1655.5078 L166.5,1670.5078 M179.5,1655.5078 L192.5,1670.5078 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="240" y="115.292">User</text><ellipse cx="259" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M259,58.7969 L259,85.7969 M246,66.7969 L272,66.7969 M259,85.7969 L246,100.7969 M259,85.7969 L272,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="240" y="1608.7061">User</text><ellipse cx="259" cy="1620.5078" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M259,1628.5078 L259,1655.5078 M246,1636.5078 L272,1636.5078 M259,1655.5078 L246,1670.5078 M259,1655.5078 L272,1670.5078 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="288" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="295" y="107.292">FundSponsor</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="288" y="1595.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="295" y="1615.7061">FundSponsor</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="676" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="683" y="107.292">Fund</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="676" y="1595.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="683" y="1615.7061">Fund</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="866.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="873.5" y="107.292">InvestPolicy</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="866.5" y="1595.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="873.5" y="1615.7061">InvestPolicy</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="1037" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1044" y="107.292">Defi</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="1037" y="1595.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1044" y="1615.7061">Defi</text><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="173.8594"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="264.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="322.3906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="405.6563"/><rect fill="#FFFFFF" height="88.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="630.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="778.6563"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="844.7891"/><rect fill="#FFFFFF" height="88.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="903.9219"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1021.3203"/><rect fill="#FFFFFF" height="58.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1137.8516"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1256.3828"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1338.7813"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1397.0469"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1455.3125"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="695.5" y="1528.4453"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="508.7266"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="659.2578"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="933.0547"/><rect fill="#FFFFFF" height="58.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="1050.4531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="908.5" y="1166.9844"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052.5" y="688.3906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052.5" y="962.1875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052.5" y="1079.5859"/><path d="M10,135.5938 L183,135.5938 L183,142.7266 L173,152.7266 L10,152.7266 L10,135.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="76.2656" style="stroke:#000000;stroke-width:1.5;" width="725" x="10" y="135.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="25" y="148.6606">WAITINGFORSALE</text><polygon fill="#181818" points="683.5,169.8594,693.5,173.8594,683.5,177.8594,687.5,173.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="689.5" y1="173.8594" y2="173.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="76.5" y="168.7935">startFundSales()</text><path d="M10,225.8594 L113,225.8594 L113,232.9922 L103,242.9922 L10,242.9922 L10,225.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="327.8672" style="stroke:#000000;stroke-width:1.5;" width="970.5" x="10" y="225.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58" x="25" y="238.9263">ONSALE</text><polygon fill="#181818" points="683.5,260.125,693.5,264.125,683.5,268.125,687.5,264.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="689.5" y1="264.125" y2="264.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="266" y="259.0591">buyFund()</text><polygon fill="#181818" points="270,289.2578,260,293.2578,270,297.2578,266,293.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="264" x2="699.5" y1="293.2578" y2="293.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="276" y="288.1919">fundShared</text><polygon fill="#181818" points="683.5,318.3906,693.5,322.3906,683.5,326.3906,687.5,322.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="689.5" y1="322.3906" y2="322.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="537" x="76.5" y="317.3247">closeFundSales() when the fund reach the targetRaiseShare or the raisePeriod finish</text><path d="M230,367.3906 L616,367.3906 L616,374.5234 L606,384.5234 L230,384.5234 L230,367.3906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="179.3359" style="stroke:#000000;stroke-width:1.5;" width="740.5" x="230" y="367.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="341" x="245" y="380.4575">sale failed if can not reach the minRaiseShare</text><polygon fill="#181818" points="683.5,401.6563,693.5,405.6563,683.5,409.6563,687.5,405.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="689.5" y1="405.6563" y2="405.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="266" y="400.5903">redemptionAll()</text><polygon fill="#181818" points="270,460.7891,260,464.7891,270,468.7891,266,464.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="264" x2="699.5" y1="464.7891" y2="464.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="276" y="459.7231">asset</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="230" x2="970.5" y1="473.7891" y2="473.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94" x="235" y="483.9995">[sale succeed]</text><polygon fill="#181818" points="896.5,504.7266,906.5,508.7266,896.5,512.7266,900.5,508.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="700.5" x2="902.5" y1="508.7266" y2="508.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="707.5" y="503.6606">transfer raised asset to policy</text><path d="M109,567.7266 L273,567.7266 L273,574.8594 L263,584.8594 L109,584.8594 L109,567.7266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="636.3906" style="stroke:#000000;stroke-width:1.5;" width="989" x="109" y="567.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119" x="124" y="580.7935">the Fund closed</text><path d="M119,591.8594 L196,591.8594 L196,598.9922 L186,608.9922 L119,608.9922 L119,591.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="134.5313" style="stroke:#000000;stroke-width:1.5;" width="969" x="119" y="591.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="134" y="604.9263">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="109" x="211" y="604.0698">[manager invest]</text><polygon fill="#181818" points="683.5,626.125,693.5,630.125,683.5,634.125,687.5,630.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="689.5" y1="630.125" y2="630.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="186.5" y="625.0591">fundInvest()</text><polygon fill="#181818" points="896.5,655.2578,906.5,659.2578,896.5,663.2578,900.5,659.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="705.5" x2="902.5" y1="659.2578" y2="659.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="712.5" y="654.1919">invest()</text><polygon fill="#181818" points="1040.5,684.3906,1050.5,688.3906,1040.5,692.3906,1044.5,688.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="918.5" x2="1046.5" y1="688.3906" y2="688.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="925.5" y="683.3247">defiFunctionCall()</text><path d="M230,740.3906 L307,740.3906 L307,747.5234 L297,757.5234 L230,757.5234 L230,740.3906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="76.2656" style="stroke:#000000;stroke-width:1.5;" width="505" x="230" y="740.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="245" y="753.4575">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162" x="322" y="752.6011">[bonus per bonus period]</text><polygon fill="#181818" points="683.5,774.6563,693.5,778.6563,683.5,782.6563,687.5,778.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="689.5" y1="778.6563" y2="778.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="266" y="773.5903">fundBonus()</text><polygon fill="#181818" points="683.5,840.7891,693.5,844.7891,683.5,848.7891,687.5,844.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="689.5" y1="844.7891" y2="844.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="186.5" y="839.7231">startFundSettlement() when the close period finish</text><polygon fill="#181818" points="683.5,899.9219,693.5,903.9219,683.5,907.9219,687.5,903.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="689.5" y1="903.9219" y2="903.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="186.5" y="898.856">settlement()</text><polygon fill="#181818" points="896.5,929.0547,906.5,933.0547,896.5,937.0547,900.5,933.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="705.5" x2="902.5" y1="933.0547" y2="933.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="712.5" y="927.9888">settle() the defi</text><polygon fill="#181818" points="1040.5,958.1875,1050.5,962.1875,1040.5,966.1875,1044.5,962.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="918.5" x2="1046.5" y1="962.1875" y2="962.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="925.5" y="957.1216">defiFunctionCall()</text><polygon fill="#181818" points="683.5,1017.3203,693.5,1021.3203,683.5,1025.3203,687.5,1021.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="689.5" y1="1021.3203" y2="1021.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="186.5" y="1016.2544">withraw() from defi</text><polygon fill="#181818" points="896.5,1046.4531,906.5,1050.4531,896.5,1054.4531,900.5,1050.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="705.5" x2="902.5" y1="1050.4531" y2="1050.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="712.5" y="1045.3872">withdrawFromDefi()</text><polygon fill="#181818" points="1040.5,1075.5859,1050.5,1079.5859,1040.5,1083.5859,1044.5,1079.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="918.5" x2="1046.5" y1="1079.5859" y2="1079.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="925.5" y="1074.52">defiFunctionCall()</text><polygon fill="#181818" points="924.5,1104.7188,914.5,1108.7188,924.5,1112.7188,920.5,1108.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="918.5" x2="1056.5" y1="1108.7188" y2="1108.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="930.5" y="1103.6528">return the assets</text><polygon fill="#181818" points="683.5,1133.8516,693.5,1137.8516,683.5,1141.8516,687.5,1137.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="689.5" y1="1137.8516" y2="1137.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="266" y="1132.7856">fundSettlement()</text><polygon fill="#181818" points="896.5,1162.9844,906.5,1166.9844,896.5,1170.9844,900.5,1166.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="705.5" x2="902.5" y1="1166.9844" y2="1166.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="712.5" y="1161.9185">withdrawAfterSettle()</text><polygon fill="#181818" points="711.5,1192.1172,701.5,1196.1172,711.5,1200.1172,707.5,1196.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="705.5" x2="912.5" y1="1196.1172" y2="1196.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="717.5" y="1191.0513">return the assets</text><path d="M109,1218.1172 L343,1218.1172 L343,1225.25 L333,1235.25 L109,1235.25 L109,1218.1172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="282.1953" style="stroke:#000000;stroke-width:1.5;" width="636" x="109" y="1218.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="189" x="124" y="1231.1841">redemption or liquidation</text><polygon fill="#181818" points="683.5,1252.3828,693.5,1256.3828,683.5,1260.3828,687.5,1256.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="689.5" y1="1256.3828" y2="1256.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="266" y="1251.3169">redemptionAll()</text><polygon fill="#181818" points="270,1281.5156,260,1285.5156,270,1289.5156,266,1285.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="264" x2="699.5" y1="1285.5156" y2="1285.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="276" y="1280.4497">asset</text><path d="M119,1300.5156 L250,1300.5156 L250,1307.6484 L240,1317.6484 L119,1317.6484 L119,1300.5156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="192.7969" style="stroke:#000000;stroke-width:1.5;" width="616" x="119" y="1300.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="134" y="1313.5825">redemption</text><polygon fill="#181818" points="683.5,1334.7813,693.5,1338.7813,683.5,1342.7813,687.5,1338.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="689.5" y1="1338.7813" y2="1338.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="266" y="1333.7153">redemptionByShare()</text><polygon fill="#181818" points="270,1363.9141,260,1367.9141,270,1371.9141,266,1367.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="264" x2="699.5" y1="1367.9141" y2="1367.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="276" y="1362.8481">asset</text><polygon fill="#181818" points="683.5,1393.0469,693.5,1397.0469,683.5,1401.0469,687.5,1397.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="689.5" y1="1397.0469" y2="1397.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="266" y="1391.981">buyFund()</text><polygon fill="#181818" points="270,1422.1797,260,1426.1797,270,1430.1797,266,1426.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="264" x2="699.5" y1="1426.1797" y2="1426.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="276" y="1421.1138">share</text><polygon fill="#181818" points="683.5,1451.3125,693.5,1455.3125,683.5,1459.3125,687.5,1455.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="689.5" y1="1455.3125" y2="1455.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="497" x="186.5" y="1450.2466">fundContinuation() after the redempition periods, the fund will be closed again</text><polygon fill="#181818" points="683.5,1524.4453,693.5,1528.4453,683.5,1532.4453,687.5,1528.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="689.5" y1="1528.4453" y2="1528.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="266" y="1523.3794">withdrawFundBonus()</text><polygon fill="#181818" points="270,1564.1445,260,1568.1445,270,1572.1445,266,1568.1445" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="264" x2="699.5" y1="1568.1445" y2="1568.1445"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="276" y="1563.0786">bonus</text><path d="M710,1541.4453 L710,1581.4453 L1270,1581.4453 L1270,1551.4453 L1260,1541.4453 L710,1541.4453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1260,1541.4453 L1260,1551.4453 L1270,1551.4453 L1260,1541.4453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="716" y="1558.5122">user can withdraw fund bonus manually,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="539" x="716" y="1573.645">but it also distribute the bonus when user do the 'erc20' thing, like transfer,burn...etc</text><!--MD5=[2dc7ddbf832bd982aff20a1e6e1b53ae]
@startuml FundInvest
autoactivate on
title Fund Investment
actor FundSponsor as Sponsor
actor FundManager as Manager
actor User
participant FundSponsor
group WAITINGFORSALE
Sponsor->Fund:startFundSales()
deactivate Fund
end

group ONSALE
User->Fund:buyFund()
return fundShared
Sponsor->Fund:closeFundSales() when the fund reach the targetRaiseShare or the raisePeriod finish
deactivate Fund

group sale failed if can not reach the minRaiseShare
User->Fund:redemptionAll() 
deactivate Fund
return asset
else sale succeed
Fund-> InvestPolicy: transfer raised asset to policy
deactivate InvestPolicy
end
end

group the Fund closed

loop manager invest
Manager->Fund:fundInvest()
Fund->InvestPolicy:invest()
InvestPolicy->Defi:defiFunctionCall() 
deactivate InvestPolicy
deactivate Defi
deactivate Fund
end

loop bonus per bonus period
User->Fund:fundBonus() 
deactivate Fund
end

Manager->Fund:startFundSettlement() when the close period finish
deactivate Fund
Manager->Fund:settlement()
Fund->InvestPolicy:settle() the defi
InvestPolicy->Defi:defiFunctionCall()
deactivate InvestPolicy
deactivate Defi
deactivate Fund
Manager->Fund:withraw() from defi
Fund->InvestPolicy:withdrawFromDefi()
InvestPolicy->Defi:defiFunctionCall()
return return the assets
deactivate Defi
deactivate InvestPolicy
deactivate Fund
User->Fund:fundSettlement()
Fund->InvestPolicy:withdrawAfterSettle()
return return the assets
deactivate InvestPolicy
deactivate Fund
end

group redemption or liquidation
User->Fund:redemptionAll() 
return asset
group redemption
User->Fund:redemptionByShare()
return asset
User->Fund: buyFund()
return share
Manager->Fund:fundContinuation() after the redempition periods, the fund will be closed again
deactivate Fund
end
end

User->Fund:withdrawFundBonus()
return bonus
note right 
user can withdraw fund bonus manually,
but it also distribute the bonus when user do the 'erc20' thing, like transfer,burn...etc
end note
@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>